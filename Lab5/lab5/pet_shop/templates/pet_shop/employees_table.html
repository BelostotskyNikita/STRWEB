{% extends "pet_shop/base.html" %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'pet_shop/css/employees_table.css' %}">
<link rel="stylesheet" href="{% static 'pet_shop/css/index.css' %}">
{% endblock %}
{% block content %}
<div class="employees-table-container">
    <h1 class="table-title">Таблица сотрудников</h1>
    
    <div class="table-controls">
        <button id="add-employee-btn" class="add-btn">Добавить</button>
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Введите текст для поиска...">
            <button id="search-btn" class="search-btn">Найти</button>
        </div>
        <button id="premium-btn" class="premium-btn" disabled>Премировать</button>
    </div>

    <div id="add-form-container" class="add-form-container" style="display: none;">
        <h2>Добавить сотрудника</h2>
        <form id="add-employee-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="full_name">ФИО:</label>
                    <input type="text" id="full_name" name="full_name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="phone">Телефон:</label>
                    <input type="text" id="phone" name="phone" required>
                    <div id="phone-validation" class="validation-message"></div>
                </div>
                <div class="form-group">
                    <label for="url">URL:</label>
                    <input type="text" id="url" name="url" required>
                    <div id="url-validation" class="validation-message"></div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group full-width">
                    <label for="description">Описание работ:</label>
                    <textarea id="description" name="description" required></textarea>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group full-width">
                    <label for="pic_url">URL фото:</label>
                    <input type="text" id="pic_url" name="pic_url">
                </div>
            </div>
            <div class="form-actions">
                <button type="submit" id="submit-add-btn" class="submit-btn" disabled>Добавить в таблицу</button>
                <button type="button" id="cancel-add-btn" class="cancel-btn">Отмена</button>
            </div>
        </form>
    </div>

    <div class="table-wrapper">
        <table id="employees-table" class="employees-table">
            <thead>
                <tr>
                    <th class="checkbox-column">
                        <input type="checkbox" id="select-all-checkbox">
                    </th>
                    <th data-sort="full_name" class="sortable">
                        ФИО <span class="sort-indicator"></span>
                    </th>
                    <th data-sort="pic" class="sortable">
                        Фото <span class="sort-indicator"></span>
                    </th>
                    <th data-sort="description" class="sortable">
                        Описание работ <span class="sort-indicator"></span>
                    </th>
                    <th data-sort="phone" class="sortable">
                        Телефон <span class="sort-indicator"></span>
                    </th>
                    <th data-sort="email" class="sortable">
                        Email <span class="sort-indicator"></span>
                    </th>
                </tr>
            </thead>
            <tbody id="table-body">
            </tbody>
        </table>
    </div>

    <div class="pagination-container">
        <button id="prev-page-btn" class="page-btn" disabled>Предыдущая</button>
        <span id="page-info" class="page-info">Страница 1 из 1</span>
        <button id="next-page-btn" class="page-btn" disabled>Следующая</button>
    </div>

    <div id="selected-employee-info" class="selected-employee-info" style="display: none;">
        <h3>Информация о выбранном сотруднике</h3>
        <div id="employee-details"></div>
    </div>

    <div id="premium-message" class="premium-message" style="display: none;">
        <h3>Текст премирования</h3>
        <p id="premium-text"></p>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'pet_shop/js/employees_table.js' %}"></script>
{% endblock %}

